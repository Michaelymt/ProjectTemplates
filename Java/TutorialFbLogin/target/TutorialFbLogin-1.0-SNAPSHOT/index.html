<!DOCTYPE html>
<html>
    <head>
        <title>Inicio</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <script>
            //Se inicializa el SDK
            window.fbAsyncInit = function () {
                FB.init({
                    appId: '201803806879061',
                    xfbml: true,
                    version: 'v2.6'
                });
            };

            (function (d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) {
                    return;
                }
                js = d.createElement(s);
                js.id = id;
                js.src = "//connect.facebook.net/en_US/sdk.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));

            //Función del botón de logueo
            function checkLoginState() {
                FB.getLoginStatus(function (response) {
                    statusChangeCallback(response);
                });
            }

            // Esta función es llamada con el resultado de FB.getLoginStatus().
            function statusChangeCallback(response) {
                // El objeto de respuesta es retornado con un campo de estado que
                // permite a la aplicacioón saber el estado de logueo actual de la persona.
                if (response.status === 'connected') {
                    // El usuario está logueado en la aplicación, entonces lo redireccionamos
                    window.location.replace("soloUsuariosAutenticados.html");
                } else if (response.status === 'not_authorized') {
                    // La persona está logueada en Facebook pero no en la aplicación
                    document.getElementById('status').innerHTML = 'Please log ' +
                            'into this app.';
                } else {
                    // La persona no está logueada en Facebook y no se puede saber si
                    // está registrada en la aplicación
                    document.getElementById('status').innerHTML = 'Please log ' +
                            'into Facebook.';
                }
            }
        </script>
        <h1>Login</h1>
        <p>Puedes iniciar sesion con Facebook!!!</p>
    <fb:login-button scope="public_profile,email,user_friends" onlogin="checkLoginState();">
    </fb:login-button>

</body>
</html>
